<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Seller Dashboard</title>
    <!-- CSS -->
    <link rel="stylesheet" href="./css/all.min.css" />
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/dashboard.css" />
    <!-- Latest Font Awesome CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />


    <!-- JS -->
    <script src="./js/all.min.js"></script>
    <!-- In your head section -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      .chart-container {
          width: 100%;
          height: 300px;
          margin: 0 auto;
      }
      
      .chart-container-mobile {
          width: 100%;
          height: 250px;
          margin: 0 auto;
      }
      
      .legend {
          display: flex;
          justify-content: center;
          margin-top: 15px;
          flex-wrap: wrap;
      }
      
      .legend-item {
          display: flex;
          align-items: center;
          margin: 0 10px;
          font-size: 14px;
      }
      
      .legend-color {
          width: 15px;
          height: 15px;
          border-radius: 3px;
          margin-right: 5px;
      }
      
      .chart-tooltip {
          position: absolute;
          background: rgba(0, 0, 0, 0.8);
          color: white;
          padding: 5px 10px;
          border-radius: 5px;
          pointer-events: none;
          font-size: 14px;
          z-index: 10;
      }
  </style>
</head>

<script>
  document.addEventListener("DOMContentLoaded", async function () {
    const { LocalStorageManager } = await import("./js/product.js");
    const storageManager = new LocalStorageManager();

   
    // Modify your existing showPage function to call showDashboardPage when dashboard is shown
    function showPage(pageToShow, pages) {
      if (!pages) return;

      Object.values(pages).forEach((page) => {
        if (page) page.classList.add("d-none");
      });

      if (pages[pageToShow.toLowerCase()]) {
        pages[pageToShow.toLowerCase()].classList.remove("d-none");

        // If dashboard is shown, initialize the chart
        if (pageToShow.toLowerCase() === "dashboard") {
          showDashboardPage();
        }
      }
    }

    // Rest of your existing code...
    // Pagination variables
    let currentPage = 1;
    const productsPerPage = 4;
    //End Pagination variables

    //DOM to get the places where we want to display the data or to get the data from the input field
    const desktopSearchInput = document.querySelector(
      '.header-Dashboard-style input[type="search"]'
    );
    const mobileSearchInput = document.querySelector(
      '.mobile-layout input[type="search"]'
    );
    const desktopSearchForm = document.querySelector(
      ".header-Dashboard-style form"
    );
    const mobileSearchForm = document.querySelector(".mobile-layout form");

    // Add this function to handle product searching
    function searchProducts(searchTerm) {
      const products = storageManager.getProducts();
      const sellerProducts = products.filter(
        (p) => p.sellerId === sellerId
      );

      if (!searchTerm || searchTerm.trim() === "") {
        // If search is empty, show all products
        currentPage = 1;
        loadProducts();
        return;
      }

      // Filter products by name (case insensitive)
      const filteredProducts = sellerProducts.filter((product) =>
        product.name.toLowerCase().includes(searchTerm.toLowerCase())
      );

      if (filteredProducts.length === 0) {
        // Show "not found" message
        showNotFoundMessage(searchTerm);
      } else {
        // Display filtered products
        displaySearchResults(filteredProducts);
      }
    }

    // Add this function to show "not found" message
    function showNotFoundMessage(searchTerm) {
      // Clear existing content
      productsTableBody.innerHTML = "";
      mobileProductsList.innerHTML = "";

      // Hide pagination
      document.getElementById("desktopPagination").innerHTML = "";
      document.getElementById("mobilePagination").innerHTML = "";

      // Create "not found" message for desktop
      const desktopMessage = document.createElement("tr");
      desktopMessage.innerHTML = `
    <td colspan="7" class="text-center py-4">
      <div class="d-flex flex-column align-items-center">
        <i class="fas fa-search fa-3x mb-3 text-muted"></i>
        <h4>No products found for "${searchTerm}"</h4>
        <p class="text-muted">Try a different search term</p>
        <button class="btn btn-outline-primary mt-2 clear-search-btn">
          Clear Search
        </button>
      </div>
    </td>
  `;
      productsTableBody.appendChild(desktopMessage);

      // Create "not found" message for mobile
      const mobileMessage = document.createElement("div");
      mobileMessage.className = "list-group-item text-center py-4";
      mobileMessage.innerHTML = `
    <div class="d-flex flex-column align-items-center">
      <i class="fas fa-search fa-3x mb-3 text-muted"></i>
      <h4>No products found for "${searchTerm}"</h4>
      <p class="text-muted">Try a different search term</p>
      <button class="btn btn-outline-primary mt-2 clear-search-btn">
        Clear Search
      </button>
    </div>
  `;
      mobileProductsList.appendChild(mobileMessage);

      // Add event listeners to clear search buttons
      document.querySelectorAll(".clear-search-btn").forEach((btn) => {
        btn.addEventListener("click", function (e) {
          e.preventDefault();
          desktopSearchInput.value = "";
          mobileSearchInput.value = "";
          currentPage = 1;
          loadProducts();
        });
      });
    }

    // Add this function to display search results
    function displaySearchResults(filteredProducts) {
      // Reset to first page when showing search results
      currentPage = 1;

      // Update pagination controls
      updatePaginationControls(filteredProducts.length);

      // Clear existing rows
      productsTableBody.innerHTML = "";
      mobileProductsList.innerHTML = "";

      // Get paginated results
      const paginatedResults = paginateProducts(filteredProducts);

      // Add search results to desktop table
      paginatedResults.forEach((product) => {
        const row = document.createElement("tr");
        row.innerHTML = `
      <td><img src="${product.image}" class="img-thumbnail" alt="${
          product.name
        }" width="50"></td>
      <td>${product.name}</td>
      <td>${product.brand}</td>
      <td>${product.gender || "Unspecified"}</td>
      <td>$${product.price.toFixed(2)}</td>
      <td>
        <span class="badge ${
          product.stock > 10
            ? "bg-success"
            : product.stock > 0
            ? "bg-warning text-dark"
            : "bg-danger"
        }">
          ${
            product.stock > 0
              ? `In Stock (${product.stock})`
              : "Out of Stock"
          }
        </span>
      </td>
      <td class="text-end">
        <a href="#" class="btn btn-sm btn-outline-primary edit-product-btn" data-id="${
          product.id
        }">
          <i class="fas fa-edit"></i> Edit
        </a>
        <a href="#" class="btn btn-sm btn-outline-danger delete-product-btn" data-id="${
          product.id
        }">
          <i class="fas fa-trash"></i> Delete
        </a>
      </td>
    `;
        productsTableBody.appendChild(row);
      });

      // Add search results to mobile list
      paginatedResults.forEach((product) => {
        const item = document.createElement("div");
        item.className = "list-group-item";
        item.innerHTML = `
      <div class="d-flex align-items-center">
        <img src="${
          product.image
        }" class="img-thumbnail me-3" width="50" alt="${product.name}">
        <div class="flex-grow-1">
          <div class="d-flex justify-content-between">
            <h6 class="mb-1">${product.name}</h6>
            <small>$${product.price.toFixed(2)}</small>
          </div>
          <div class="d-flex justify-content-between">
            <small class="text-muted">${product.brand}</small>
            <small class="text-muted">${
              product.gender || "Unspecified"
            }</small>
            <span class="badge ${
              product.stock > 10
                ? "bg-success"
                : product.stock > 0
                ? "bg-warning text-dark"
                : "bg-danger"
            }">
              ${product.stock > 0 ? "In Stock" : "Out of Stock"}
            </span>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-end mt-2">
        <a href="#" class="btn btn-sm btn-outline-primary me-1 edit-product-btn-mobile" data-id="${
          product.id
        }">
          <i class="fas fa-edit"></i> Edit
        </a>
        <a href="#" class="btn btn-sm btn-outline-danger delete-product-btn-mobile" data-id="${
          product.id
        }">
          <i class="fas fa-trash"></i> Delete
        </a>
      </div>
    `;
        mobileProductsList.appendChild(item);
      });

      // Reattach event listeners to edit/delete buttons
      attachProductButtonListeners();
    }

    // Add this function to reattach button listeners
    function attachProductButtonListeners() {
      document.querySelectorAll(".edit-product-btn").forEach((btn) => {
        btn.addEventListener("click", function (e) {
          e.preventDefault();
          const productId = this.getAttribute("data-id");
          editProduct(productId);
        });
      });

      document.querySelectorAll(".delete-product-btn").forEach((btn) => {
        btn.addEventListener("click", function (e) {
          e.preventDefault();
          const productId = this.getAttribute("data-id");
          deleteProduct(productId);
        });
      });

      document
        .querySelectorAll(".edit-product-btn-mobile")
        .forEach((btn) => {
          btn.addEventListener("click", function (e) {
            e.preventDefault();
            const productId = this.getAttribute("data-id");
            editProduct(productId);
          });
        });

      document
        .querySelectorAll(".delete-product-btn-mobile")
        .forEach((btn) => {
          btn.addEventListener("click", function (e) {
            e.preventDefault();
            const productId = this.getAttribute("data-id");
            deleteProduct(productId);
          });
        });
    }

    //get the data from search bar when search button is clicked
    if (desktopSearchForm) {
      desktopSearchForm.addEventListener("submit", function (e) {
        e.preventDefault();
        searchProducts(desktopSearchInput.value.trim());
      });
    }
    //get the data from search bar when search button is clicked
    if (mobileSearchForm) {
      mobileSearchForm.addEventListener("submit", function (e) {
        e.preventDefault();
        searchProducts(mobileSearchInput.value.trim());
      });
    }

    // get the data from input field
    if (desktopSearchInput) {
      desktopSearchInput.addEventListener("input", function () {
        searchProducts(this.value.trim());
      });
    }

    // get the data from input field
    if (mobileSearchInput) {
      mobileSearchInput.addEventListener("input", function () {
        searchProducts(this.value.trim());
      });
    }

    // Function to paginate for products
    function paginateProducts(products) {
      const startIndex = (currentPage - 1) * productsPerPage;
      const endIndex = startIndex + productsPerPage;
      return products.slice(startIndex, endIndex);
    }

    // Function to update pagination controls
    function updatePaginationControls(totalProducts) {
      const totalPages = Math.ceil(totalProducts / productsPerPage);

      // Desktop pagination
      const desktopPagination =
        document.getElementById("desktopPagination");
      if (desktopPagination) {
        desktopPagination.innerHTML = "";

        if (totalPages > 1) {
          // Previous button
          desktopPagination.innerHTML += `
        <li class="page-item ${currentPage === 1 ? "disabled" : ""}">
          <a class="page-link" href="#" data-page="${
            currentPage - 1
          }">&laquo;</a>
        </li>
      `;

          // Page numbers
          for (let i = 1; i <= totalPages; i++) {
            desktopPagination.innerHTML += `
          <li class="page-item ${i === currentPage ? "active" : ""}">
            <a class="page-link" href="#" data-page="${i}">${i}</a>
          </li>
        `;
          }

          // Next button
          desktopPagination.innerHTML += `
        <li class="page-item ${
          currentPage === totalPages ? "disabled" : ""
        }">
          <a class="page-link" href="#" data-page="${
            currentPage + 1
          }">&raquo;</a>
        </li>
      `;
        }
      }

      // Mobile pagination
      const mobilePagination = document.getElementById("mobilePagination");
      if (mobilePagination) {
        mobilePagination.innerHTML = "";

        if (totalPages > 1) {
          // Previous button
          mobilePagination.innerHTML += `
        <li class="page-item ${currentPage === 1 ? "disabled" : ""}">
          <a class="page-link" href="#" data-page="${
            currentPage - 1
          }">&laquo;</a>
        </li>
      `;

          // Page numbers
          for (let i = 1; i <= totalPages; i++) {
            mobilePagination.innerHTML += `
          <li class="page-item ${i === currentPage ? "active" : ""}">
            <a class="page-link" href="#" data-page="${i}">${i}</a>
          </li>
        `;
          }

          // Next button
          mobilePagination.innerHTML += `
        <li class="page-item ${
          currentPage === totalPages ? "disabled" : ""
        }">
          <a class="page-link" href="#" data-page="${
            currentPage + 1
          }">&raquo;</a>
        </li>
      `;
        }
      }
    }

    // Event delegation for pagination clicks
    document.addEventListener("click", function (e) {
      if (e.target.classList.contains("page-link")) {
        e.preventDefault();
        const page = parseInt(e.target.getAttribute("data-page"));
        if (!isNaN(page)) {
          currentPage = page;
          loadProducts();
        }
      }
    });

    // Initialize page navigation
    const navLinks = document.querySelectorAll(
      ".navbar-nav .nav-link:not(.dropdown-item)"
    );
    const mobileNavLinks = document.querySelectorAll(
      "#navbarNavDropdown .nav-link"
    );

    const mobileNavToggler = document.querySelector(".navbar-toggler");
    const mobileNavMenu = document.getElementById("navbarNavDropdown");

    const desktopPages = {
      dashboard: document.querySelector(
        ".dashboard-item-desktop .dashboard-page"
      ),
      orders: document.querySelector(
        ".dashboard-item-desktop .orders-page"
      ),
      products: document.querySelector(
        ".dashboard-item-desktop .Products-page"
      ),
    };

    const mobilePages = {
      dashboard: document.querySelector(
        ".dashboard-item-mobile .dashboard-page"
      ),
      orders: document.querySelector(".dashboard-item-mobile .orders-page"),
      products: document.querySelector(
        ".dashboard-item-mobile .Products-page"
      ),
    };

    function initializePages(pages) {
      Object.values(pages).forEach((page) => {
        if (page && page !== pages.dashboard) {
          page.classList.add("d-none");
        }
      });
    }

    initializePages(desktopPages);
    initializePages(mobilePages);

    function showPage(pageToShow, pages) {
      if (!pages) return;

      Object.values(pages).forEach((page) => {
        if (page) page.classList.add("d-none");
      });

      if (pages[pageToShow.toLowerCase()]) {
        pages[pageToShow.toLowerCase()].classList.remove("d-none");

        // If dashboard is shown, initialize the chart
        if (pageToShow.toLowerCase() === "dashboard") {
          showDashboardPage();
        }
      }
    }

    function collapseMobileMenu() {
      if (mobileNavMenu.classList.contains("show")) {
        const bsCollapse = new bootstrap.Collapse(mobileNavMenu, {
          toggle: false,
        });
        bsCollapse.hide();
      }
    }

    navLinks.forEach((link) => {
      link.addEventListener("click", function (e) {
        e.preventDefault();
        const pageName = this.id || this.textContent.trim();
        showPage(pageName, desktopPages);
      });
    });

    mobileNavLinks.forEach((link) => {
      link.addEventListener("click", function (e) {
        e.preventDefault();
        const linkText = this.textContent.trim();

        if (linkText.includes("Dashboard"))
          showPage("dashboard", mobilePages);
        else if (linkText.includes("Orders"))
          showPage("orders", mobilePages);
        else if (linkText.includes("Products"))
          showPage("products", mobilePages);

        collapseMobileMenu();
      });
    });

    const productSubLinks = document.querySelectorAll(
      ".sub-menu .nav-link"
    );
    productSubLinks.forEach((link) => {
      link.addEventListener("click", function (e) {
        e.preventDefault();
        showPage("products", desktopPages);
        showPage("products", mobilePages);
        collapseMobileMenu();
      });
    });

    // Product Management System
    // Initialize products in local storage if empty
    storageManager.initializeProducts();

    // Sample seller ID (in a real app, this would come from authentication)
    let sellerId ;
    const userSellerRole = storageManager.getUserAuthentication();
    const CurrentUser = storageManager.getCurrentUser();
    userSellerRole.forEach((user) => {
      if(CurrentUser.role==user.role&& CurrentUser.id==user.id){
        sellerId =user.id;
      }
    })
   
// For desktop version
document.querySelector(".dropdown-item.Logout").addEventListener("click", function(e) {
  e.preventDefault();
  storageManager.ClearCurrentUser();
  window.location.href = "../index.html";
});

// For mobile version
document.querySelector(".nav-link .Logout").addEventListener("click", function(e) {
  e.preventDefault();
  storageManager.ClearCurrentUser();
  window.location.href = "../index.html";
});


    // DOM elements
    const productsTableBody = document.getElementById("productsTableBody");
    const mobileProductsList =
      document.getElementById("mobileProductsList");

    // Image upload handlers
    document
      .getElementById("productImageBtn")
      .addEventListener("click", function () {
        document.getElementById("productImageUpload").click();
      });

    document
      .getElementById("productImageUpload")
      .addEventListener("change", function (e) {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            document.getElementById("productImage").value = e.target.result;
            document.getElementById("previewImage").src = e.target.result;
            document.getElementById("imagePreview").style.display = "block";
          };
          reader.readAsDataURL(file);
        }
      });

    document
      .getElementById("editProductImageBtn")
      .addEventListener("click", function () {
        document.getElementById("editProductImageUpload").click();
      });

    document
      .getElementById("editProductImageUpload")
      .addEventListener("change", function (e) {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            document.getElementById("editProductImage").value =
              e.target.result;
            document.getElementById("editPreviewImage").src =
              e.target.result;
            document.getElementById("editImagePreview").style.display =
              "block";
          };
          reader.readAsDataURL(file);
        }
      });

    // Mobile image upload handlers
    document
      .getElementById("productImageBtnMobile")
      .addEventListener("click", function () {
        document.getElementById("productImageUploadMobile").click();
      });

    document
      .getElementById("productImageUploadMobile")
      .addEventListener("change", function (e) {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            document.getElementById("productImageMobile").value =
              e.target.result;
            document.getElementById("previewImageMobile").src =
              e.target.result;
            document.getElementById("imagePreviewMobile").style.display =
              "block";
          };
          reader.readAsDataURL(file);
        }
      });

    document
      .getElementById("editProductImageBtnMobile")
      .addEventListener("click", function () {
        document.getElementById("editProductImageUploadMobile").click();
      });

    document
      .getElementById("editProductImageUploadMobile")
      .addEventListener("change", function (e) {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            document.getElementById("editProductImageMobile").value =
              e.target.result;
            document.getElementById("editPreviewImageMobile").src =
              e.target.result;
            document.getElementById(
              "editImagePreviewMobile"
            ).style.display = "block";
          };
          reader.readAsDataURL(file);
        }
      });

    // View navigation functions
    function showProductsListView() {
      document
        .querySelectorAll(".products-list-view")
        .forEach((view) => view.classList.remove("d-none"));
      document
        .querySelectorAll(".add-product-view")
        .forEach((view) => view.classList.add("d-none"));
      document
        .querySelectorAll(".edit-product-view")
        .forEach((view) => view.classList.add("d-none"));
      loadProducts();
    }

    function showAddProductView() {
      document
        .querySelectorAll(".products-list-view")
        .forEach((view) => view.classList.add("d-none"));
      document
        .querySelectorAll(".add-product-view")
        .forEach((view) => view.classList.remove("d-none"));
      document
        .querySelectorAll(".edit-product-view")
        .forEach((view) => view.classList.add("d-none"));
      // Reset form
      document.getElementById("addProductForm").reset();
      document.getElementById("imagePreview").style.display = "none";
    }

    function showEditProductView() {
      document
        .querySelectorAll(".products-list-view")
        .forEach((view) => view.classList.add("d-none"));
      document
        .querySelectorAll(".add-product-view")
        .forEach((view) => view.classList.add("d-none"));
      document
        .querySelectorAll(".edit-product-view")
        .forEach((view) => view.classList.remove("d-none"));
    }

    // Load products from local storage
    function loadProducts() {
      const products = storageManager.getProducts();
      const sellerProducts = products.filter(
        (p) => p.sellerId === sellerId
      );
      const paginatedProducts = paginateProducts(sellerProducts);

      // Update pagination controls
      updatePaginationControls(sellerProducts.length);

      // Clear existing rows
      productsTableBody.innerHTML = "";
      mobileProductsList.innerHTML = "";

      // Add paginated products to desktop table
      paginatedProducts.forEach((product) => {
        const row = document.createElement("tr");
        row.innerHTML = `
      <td><img src="${
        product.image || "https://via.placeholder.com/50"
      }" class="img-thumbnail" alt="${product.name}" width="50"></td>
      <td>${product.name}</td>
      <td>${product.brand}</td>
      <td>${product.gender || "Unspecified"}</td>
      <td>$${product.price.toFixed(2)}</td>
      <td>
        <span class="badge ${
          product.stock > 10
            ? "bg-success"
            : product.stock > 0
            ? "bg-warning text-dark"
            : "bg-danger"
        }">
          ${
            product.stock > 0
              ? `In Stock (${product.stock})`
              : "Out of Stock"
          }
        </span>
      </td>
      <td class="text-end">
        <a href="#" class="btn btn-sm btn-outline-primary edit-product-btn" data-id="${
          product.id
        }">
          <i class="fas fa-edit"></i> Edit
        </a>
        <a href="#" class="btn btn-sm btn-outline-danger delete-product-btn" data-id="${
          product.id
        }">
          <i class="fas fa-trash"></i> Delete
        </a>
      </td>
    `;
        productsTableBody.appendChild(row);
      });

      // Add paginated products to mobile list
      paginatedProducts.forEach((product) => {
        const item = document.createElement("div");
        item.className = "list-group-item";
        item.innerHTML = `
      <div class="d-flex align-items-center">
        <img src="${
          product.image || "https://via.placeholder.com/50"
        }" class="img-thumbnail me-3" width="50" alt="${product.name}">
        <div class="flex-grow-1">
          <div class="d-flex justify-content-between">
            <h6 class="mb-1">${product.name}</h6>
            <small>$${product.price.toFixed(2)}</small>
          </div>
          <div class="d-flex justify-content-between">
            <small class="text-muted">${product.brand}</small>
            <small class="text-muted">${
              product.gender || "Unspecified"
            }</small>
            <span class="badge ${
              product.stock > 10
                ? "bg-success"
                : product.stock > 0
                ? "bg-warning text-dark"
                : "bg-danger"
            }">
              ${product.stock > 0 ? "In Stock" : "Out of Stock"}
            </span>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-end mt-2">
        <a href="#" class="btn btn-sm btn-outline-primary me-1 edit-product-btn-mobile" data-id="${
          product.id
        }">
          <i class="fas fa-edit"></i> Edit
        </a>
        <a href="#" class="btn btn-sm btn-outline-danger delete-product-btn-mobile" data-id="${
          product.id
        }">
          <i class="fas fa-trash"></i> Delete
        </a>
      </div>
    `;
        mobileProductsList.appendChild(item);
      });

      document.querySelectorAll(".edit-product-btn").forEach((btn) => {
        btn.addEventListener("click", function (e) {
          e.preventDefault();
          const productId = this.getAttribute("data-id");
          editProduct(productId);
        });
      });

      document.querySelectorAll(".delete-product-btn").forEach((btn) => {
        btn.addEventListener("click", function (e) {
          e.preventDefault();
          const productId = this.getAttribute("data-id");
          deleteProduct(productId);
        });
      });

      document
        .querySelectorAll(".edit-product-btn-mobile")
        .forEach((btn) => {
          btn.addEventListener("click", function (e) {
            e.preventDefault();
            const productId = this.getAttribute("data-id");
            editProduct(productId);
          });
        });

      document
        .querySelectorAll(".delete-product-btn-mobile")
        .forEach((btn) => {
          btn.addEventListener("click", function (e) {
            e.preventDefault();
            const productId = this.getAttribute("data-id");
            deleteProduct(productId);
          });
        });
    }
    // Add a new product
    function addProduct(productData) {
      storageManager.addProduct(productData);
      showProductsListView();
      updateAnalitics();
    }

    // Edit an existing product
    function editProduct(productId) {
      const products = storageManager.getProducts();
      const product = products.find((p) => p.id === productId);

      if (product) {
        // Set form values for desktop
        document.getElementById("editProductId").value = product.id;
        document.getElementById("editProductName").value = product.name;
        document.getElementById("editProductBrand").value = product.brand;
        document.getElementById("editProductGender").value =
          product.gender || "";
        document.getElementById("editProductPrice").value = product.price;
        document.getElementById("editProductStock").value = product.stock;
        document.getElementById("editProductImage").value =
          product.image || "";
        document.getElementById("editProductDescription").value =
          product.description || "";

        if (product.image) {
          document.getElementById("editPreviewImage").src = product.image;
          document.getElementById("editImagePreview").style.display =
            "block";
        } else {
          document.getElementById("editImagePreview").style.display =
            "none";
        }

        // Set form values for mobile
        document.getElementById("editProductIdMobile").value = product.id;
        document.getElementById("editProductNameMobile").value =
          product.name;
        document.getElementById("editProductBrandMobile").value =
          product.brand;
        document.getElementById("editProductGenderMobile").value =
          product.gender || "";
        document.getElementById("editProductPriceMobile").value =
          product.price;
        document.getElementById("editProductStockMobile").value =
          product.stock;
        document.getElementById("editProductImageMobile").value =
          product.image || "";
        document.getElementById("editProductDescriptionMobile").value =
          product.description || "";

        if (product.image) {
          document.getElementById("editPreviewImageMobile").src =
            product.image;
          document.getElementById("editImagePreviewMobile").style.display =
            "block";
        } else {
          document.getElementById("editImagePreviewMobile").style.display =
            "none";
        }

        showEditProductView();
      }
    }

    // Update a product
    function updateProduct(updatedProduct) {
      storageManager.updateProduct(updatedProduct);
      showProductsListView();
      updateAnalitics();
    }
    // Delete a product
    function deleteProduct(productId) {
      if (confirm("Are you sure you want to delete this product?")) {
        storageManager.deleteProduct(productId);
        loadProducts();
        updateAnalitics();
      }
    }
    // Event listeners for navigation
    document
      .getElementById("addNewProductBtn")
      .addEventListener("click", function (e) {
        e.preventDefault();
        showAddProductView();
      });

    document
      .getElementById("addNewProductBtnMobile")
      .addEventListener("click", function (e) {
        e.preventDefault();
        showAddProductView();
      });

    document.querySelectorAll(".back-to-products-btn").forEach((btn) => {
      btn.addEventListener("click", function (e) {
        e.preventDefault();
        showProductsListView();
      });
    });

    document
      .querySelectorAll(".back-to-products-btn-mobile")
      .forEach((btn) => {
        btn.addEventListener("click", function (e) {
          e.preventDefault();
          showProductsListView();
        });
      });

    // Form submission handlers
    document
      .getElementById("addProductForm")
      .addEventListener("submit", function (e) {
        e.preventDefault();

        const newProduct = {
          id: "#prod-" + Date.now(),
          name: document.getElementById("productName").value,
          brand: document.getElementById("productBrand").value,
          gender: document.getElementById("productGender").value,
          price: parseFloat(document.getElementById("productPrice").value),
          stock: parseInt(document.getElementById("productStock").value),
          image: document.getElementById("productImage").value,
          description: document.getElementById("productDescription").value,
          sellerId: sellerId,
        };

        addProduct(newProduct);
      });

    document
      .getElementById("addProductFormMobile")
      .addEventListener("submit", function (e) {
        e.preventDefault();

        const newProduct = {
          id: "#prod-" + Date.now(),
          name: document.getElementById("productNameMobile").value,
          brand: document.getElementById("productBrandMobile").value,
          gender: document.getElementById("productGenderMobile").value,
          price: parseFloat(
            document.getElementById("productPriceMobile").value
          ),
          stock: parseInt(
            document.getElementById("productStockMobile").value
          ),
          image: document.getElementById("productImageMobile").value,
          description: document.getElementById("productDescriptionMobile")
            .value,
          sellerId: sellerId,
        };

        addProduct(newProduct);
      });

    document
      .getElementById("editProductForm")
      .addEventListener("submit", function (e) {
        e.preventDefault();

        const updatedProduct = {
          id: document.getElementById("editProductId").value,
          name: document.getElementById("editProductName").value,
          brand: document.getElementById("editProductBrand").value,
          gender: document.getElementById("editProductGender").value,
          price: parseFloat(
            document.getElementById("editProductPrice").value
          ),
          stock: parseInt(
            document.getElementById("editProductStock").value
          ),
          image: document.getElementById("editProductImage").value,
          description: document.getElementById("editProductDescription")
            .value,
          sellerId: sellerId,
        };

        updateProduct(updatedProduct);
      });

    document
      .getElementById("editProductFormMobile")
      .addEventListener("submit", function (e) {
        e.preventDefault();

        const updatedProduct = {
          id: document.getElementById("editProductIdMobile").value,
          name: document.getElementById("editProductNameMobile").value,
          brand: document.getElementById("editProductBrandMobile").value,
          gender: document.getElementById("editProductGenderMobile").value,
          price: parseFloat(
            document.getElementById("editProductPriceMobile").value
          ),
          stock: parseInt(
            document.getElementById("editProductStockMobile").value
          ),
          image: document.getElementById("editProductImageMobile").value,
          description: document.getElementById(
            "editProductDescriptionMobile"
          ).value,
          sellerId: sellerId,
        };

        updateProduct(updatedProduct);
      });

    //Event for the Inventory Alerts
    function updateInventoryAlerts() {
      const productsList = storageManager.getProducts();
      let countInventoryAlerts = 0;
      productsList.forEach((product) => {
        if (product.stock < 10) {
          countInventoryAlerts++;
        }
      });
      document.getElementById("Inventory-Alerts").innerHTML =
        countInventoryAlerts;
      document.getElementById("mobile-Inventory-Alerts").innerHTML =
        countInventoryAlerts;
    }

    //Event for the Stock Value
    function updateStockValue() {
      const productsList = storageManager.getProducts();
      let ValueStock = 0;
      productsList.forEach((product) => {
        ValueStock += product.stock * product.price;
      });
      document.getElementById("Stock-Value").innerHTML =
        ValueStock.toFixed(2);
      document.getElementById("mobile-Stock-Value").innerHTML =
        ValueStock.toFixed(2);
    }

    function updateAnalitics() {
      updateInventoryAlerts();
      updateStockValue();
    }

    // Initial load
    showProductsListView();
    updateAnalitics();

    // initializeSalesChart();
  });
</script>
  </head>
  <body>
    <!-- Desktop Design -->
    <div class="m-0 p-0 dashboard-item-desktop">
      <div class="row fixed-top">
        <!-- dashboard section -->
        <div class="col-2 dashboard-Desctop-style">
          <div class="d-flex flex-column">
            <!--Logo Img-->
            <div class="box">
              <a href="#" class="text-decoration-none d-flex align-items-end">
                <img
                  src="./img/logo.png"
                  class="img-fluid w-100 mx-auto"
                  alt=""
                />
              </a>
            </div>
            <!--End Logo Img-->
            <!-- Dashboard content -->
            <div class="mx-2">
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a
                    class="nav-link dashboard-active border-bottom border-secondary my-1"
                    aria-current="page"
                    href="#"
                    id="Dashboard"
                    ><i class="fa-solid fa-gear dashboard-icon-style me-1"></i>
                    Dashboard</a
                  >
                </li>

                <li class="nav-item">
                  <a
                    class="nav-link dashboard-active border-bottom border-secondary my-1"
                    href="#"
                    id="Orders"
                  >
                    <i class="fa-solid fa-boxes-packing me-1"></i>
                    <span>Orders</span>
                  </a>
                </li>

                <li class="nav-item">
                  <a
                    class="nav-link dashboard-active border-bottom border-secondary my-1"
                    data-bs-toggle="collapse"
                    href="#ui-basic"
                    aria-expanded="false"
                    aria-controls="ui-basic"
                    id="Products"
                  >
                    <i class="fa-solid fa-tags me-1"></i>
                    <span class="menu-title">Products </span>
                  </a>
                </li>
              </ul>
            </div>
            <!-- Dashboard content -->
          </div>
        </div>
        <!-- end dashboard section  -->
        <!-- Desktop body Design -->
        <!-- body color -->
        <div class="col-10 dashboard-bg-color p-0 m-0 sticky-top">
          <div class="header-Dashboard-style py-2">
            <div class="row">
              <div class="col-8 px-5">
                <form class="d-flex" role="search">
                  <input
                    class="form-control me-2"
                    type="search"
                    placeholder="Search"
                    aria-label="Search"
                  />
                  <button
                    class="btn btn-outline-secondary rounded-4"
                    type="submit"
                  >
                    <i class="fa-solid fa-magnifying-glass"></i>
                  </button>
                </form>
              </div>
              <div class="col-4">
                <div class="d-flex justify-content-end">
                  <div class="dropdown pe-4">
                    <button
                      class="btn btn-secondary dropdown-toggle"
                      type="button"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      <i class="fa-solid fa-right-from-bracket"></i>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-dark">
                      <li><a class="dropdown-item Logout" href="#" >Logout</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="container Dashboard-contaner">
            <!-- body Header -->
            <div class="my-3 fw-bold">
              <h1>Seller Dashboard</h1>
            </div>

            <!-- dashboard-body-page -->
            <div class="dashboard-page">
              <!-- body four (4) content -->
              <div class="row d-flex justify-content-evenly">
                <!-- Total Sales -->
                <div
                  class="col-2 mx-1 d-flex flex-column align-items-center justify-content-center bg-light rounded-4 Dashboard-class-hovor"
                >
                  <p
                    class="fs-4 fw-bold mt-3 d-flex justify-content-center align-items-center"
                  >
                    <span> num</span>
                    <i class="fa-solid fa-dollar-sign"></i>
                  </p>
                  <p>Total Sales</p>
                </div>
                <!-- Orders Today -->
                <div
                  class="col-2 mx-1 d-flex flex-column align-items-center justify-content-center bg-light rounded-4 Dashboard-class-hovor"
                >
                  <p
                    class="fs-4 fw-bold mt-3 d-flex justify-content-center align-items-center"
                  >
                    <span> num</span>
                    <i class="fa-solid fa-cart-shopping"></i>
                  </p>
                  <p>Orders Today</p>
                </div>
                <!--Stock Value  -->
                <div
                  class="col-2 mx-1 d-flex flex-column align-items-center justify-content-center bg-light rounded-4 Dashboard-class-hovor"
                >
                  <p
                    class="fs-4 fw-bold mt-3 d-flex justify-content-center align-items-center"
                  >
                    <span id="Stock-Value">num </span>
                    <i
                      class="fa-solid fa-sack-dollar justify-content-center"
                    ></i>
                  </p>
                  <p>Stock Value</p>
                </div>
                <!--Inventory Alerts  -->
                <div
                  class="col-2 mx-1 d-flex flex-column align-items-center justify-content-center bg-light rounded-4 Dashboard-class-hovor"
                >
                  <p
                    class="fs-4 fw-bold mt-3 d-flex justify-content-center align-items-center"
                  >
                    <span id="Inventory-Alerts"> num</span>
                    <i class="fa-solid fa-circle-exclamation"></i>
                  </p>
                  <p>Inventory Alerts</p>
                </div>
              </div>
              <!-- End body four (4) content -->

              <!-- body two (2) content -->
              <div class="row d-flex justify-content-evenly my-5">
                <div class="col-6">
                  <!-- stockByGender -->
                  <div
                    class="row d-flex justify-content-between bg-light rounded-2"
                  >
                    <h5 class="fw-bold">Stock By Gender</h5>
                    <div id="donut-chart-container" class="donut-chart"></div>
                  </div>

                  <!-- Top Selling Products -->
                  <div
                    class="row d-flex justify-content-between bg-light rounded-2 mt-4"
                  >
                    <h5 class="fw-bold">Top Selling Products</h5>
                    <table class="table table-hover bg-light">
                      <tr>
                        <td></td>
                        <td>Product</td>
                        <td class="text-end">Quantity (units)</td>
                      </tr>
                      <tr>
                        <td><i class="fa-solid fa-basket-shopping"></i></td>
                        <td>Product-A</td>
                        <td class="text-end">350 units</td>
                      </tr>
                    </table>
                  </div>
                  <!-- Low Stock Products -->
                  <div
                    class="row d-flex justify-content-between bg-light rounded-2 my-5"
                  >
                    <h5 class="fw-bold">Low Stock Products</h5>
                    <table class="table table-hover bg-light">
                      <tr>
                        <td></td>
                        <td>Product</td>
                        <td class="text-end">
                          <i class="fa-solid fa-sort-down"></i>
                        </td>
                      </tr>
                      <tr>
                        <td><i class="fa-solid fa-arrow-trend-down"></i></td>
                        <td>Product-A</td>
                        <td class="text-end">3</td>
                      </tr>
                    </table>
                  </div>
                </div>
                <div class="col-4">
                  <!-- Recent Orders -->
                  <div
                    class="row d-flex justify-content-between bg-light rounded-2"
                  >
                    <h5 class="fw-bold">Recent Orders</h5>
                    <table class="table table-hover bg-light">
                      <tr>
                        <td>Order ID</td>
                        <td>Customer</td>
                        <td class="text-end">Total</td>
                      </tr>
                      <tr>
                        <td>#123</td>
                        <td>Altex Brown</td>
                        <td class="text-end">
                          <span>999</span>
                          <i class="fa-solid fa-dollar-sign"></i>
                        </td>
                      </tr>
                    </table>
                  </div>
                  <!-- Low Stock -->
                  <div
                    class="row d-flex justify-content-between bg-light rounded-2 my-5"
                  >
                    <table class="table table-hover bg-light mt-1">
                      <tr>
                        <td>Low Stock</td>
                        <td class="text-end">Restock</td>
                      </tr>
                      <tr>
                        <td>Product X</td>
                        <td class="text-end">
                          <span>num</span>
                          <i class="fa-solid fa-dollar-sign"></i>
                        </td>
                      </tr>
                    </table>
                  </div>
                  <!-- Restock -->
                  <div
                    class="row d-flex justify-content-between bg-light rounded-2 my-5"
                  >
                    <table class="table table-hover bg-light mt-1">
                      <tr>
                        <td>Low Stock</td>
                        <td class="text-end">Restock</td>
                      </tr>
                      <tr>
                        <td>Product X</td>
                        <td class="text-end">
                          <button class="btn btn-outline-secondary">
                            Restock
                          </button>
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <!-- End dashboard-body-page -->

            <!-- orders-body-page -->
            <div class="orders-page">
              <div class="container">
                <table class="table table-hover table-striped">
                  <tr>
                    <th>Order ID</th>
                    <th>Date</th>
                    <th>Customer Name</th>
                    <th>Order Status</th>
                    <th>Payment Status</th>
                    <th class="text-end">Total</th>
                  </tr>
                  <tr>
                    <td>#ORD12345</td>
                    <td>01-01-2023</td>
                    <td>Ahmed</td>
                    <td>Pending</td>
                    <td>PAID</td>
                    <td class="text-end">
                      <span>199</span> <i class="fa-solid fa-dollar-sign"></i>
                    </td>
                  </tr>
                  <tr>
                    <td>#ORD12345</td>
                    <td>01-01-2023</td>
                    <td>Ahmed</td>
                    <td>Pending</td>
                    <td>PAID</td>
                    <td class="text-end">
                      <span>199</span> <i class="fa-solid fa-dollar-sign"></i>
                    </td>
                  </tr>
                  <tr>
                    <td>#ORD12345</td>
                    <td>01-01-2023</td>
                    <td>Ahmed</td>
                    <td>Pending</td>
                    <td>PAID</td>
                    <td class="text-end">
                      <span>199</span> <i class="fa-solid fa-dollar-sign"></i>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <!-- ENd orders-body-page -->

            <!-- Products-body-page -->
            <div class="Products-page mb-auto">
              <!-- Products List View -->
              <div class="products-list-view">
                <div
                  class="d-flex justify-content-between align-items-center mb-3"
                >
                  <h2>Products</h2>
                  <a
                    href="#"
                    class="btn btn-outline-primary me-2"
                    id="addNewProductBtn"
                  >
                    <i class="fas fa-plus me-1"></i> Add New
                  </a>
                </div>

                <div class="table-responsive">
                  <table class="table table-hover" id="productsTable">
                    <thead>
                      <tr>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Brand</th>
                        <th>Gender</th>
                        <th>Price</th>
                        <th>Stock</th>
                        <th class="text-end">Actions</th>
                      </tr>
                    </thead>
                    <tbody id="productsTableBody">
                      <!-- Products will be loaded here -->
                    </tbody>
                  </table>
                  <nav aria-label="Product pagination">
                    <ul
                      class="pagination justify-content-center"
                      id="desktopPagination"
                    ></ul>
                  </nav>
                </div>
              </div>

              <!-- Add Product Form -->
              <div class="add-product-view d-none">
                <div
                  class="d-flex justify-content-between align-items-center mb-3"
                >
                  <h2>Add New Product</h2>
                  <a
                    href="#"
                    class="btn btn-outline-secondary back-to-products-btn"
                  >
                    <i class="fas fa-arrow-left me-1"></i> Back to Products
                  </a>
                </div>

                <div
                  class="card"
                  style="max-height: calc(100vh - 200px); overflow-y: auto"
                >
                  <div class="card-body">
                    <form
                      id="addProductForm"
                      style="
                        display: flex;
                        flex-direction: column;
                        min-height: 100%;
                      "
                    >
                      <div class="row mb-3">
                        <div class="col-md-6">
                          <label class="form-label">Product Name</label>
                          <input
                            type="text"
                            class="form-control"
                            id="productName"
                            required
                          />
                        </div>
                        <div class="col-md-6">
                          <label class="form-label">Brand</label>
                          <input
                            type="text"
                            class="form-control"
                            id="productBrand"
                            required
                          />
                        </div>
                      </div>

                      <div class="row mb-3">
                        <div class="col-md-4">
                          <label class="form-label">Gender</label>
                          <select
                            class="form-select"
                            id="productGender"
                            required
                          >
                            <option value="">Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                          </select>
                        </div>
                        <div class="col-md-4">
                          <label class="form-label">Price</label>
                          <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input
                              type="number"
                              class="form-control"
                              id="productPrice"
                              step="0.01"
                              required
                            />
                          </div>
                        </div>
                        <div class="col-md-4">
                          <label class="form-label">Stock Quantity</label>
                          <input
                            type="number"
                            class="form-control"
                            id="productStock"
                            required
                          />
                        </div>
                      </div>

                      <div class="row mb-3">
                        <div class="col-md-12">
                          <label class="form-label">Product Image</label>
                          <div class="input-group">
                            <input
                              type="file"
                              class="form-control"
                              id="productImageUpload"
                              accept="image/*"
                              style="display: none"
                            />
                            <button
                              type="button"
                              class="btn btn-outline-secondary"
                              id="productImageBtn"
                            >
                              <i class="fas fa-image me-1"></i> Choose Image
                            </button>
                            <input type="hidden" id="productImage" />
                          </div>
                          <div
                            id="imagePreview"
                            class="mt-2"
                            style="display: none"
                          >
                            <img
                              id="previewImage"
                              src="#"
                              alt="Preview"
                              class="img-thumbnail"
                              width="100"
                            />
                          </div>
                        </div>
                      </div>

                      <div class="mb-3">
                        <label class="form-label">Description</label>
                        <textarea
                          class="form-control"
                          id="productDescription"
                          rows="3"
                        ></textarea>
                      </div>
                      <div style="margin-top: auto; padding-top: 20px">
                        <div class="d-flex justify-content-end">
                          <a
                            href="#"
                            class="btn btn-outline-secondary me-2 back-to-products-btn"
                          >
                            Cancel
                          </a>
                          <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save me-1"></i> Save Product
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>

              <!-- Edit Product Form -->
              <div class="edit-product-view d-none">
                <div
                  class="d-flex justify-content-between align-items-center mb-3"
                >
                  <h2>Edit Product</h2>
                  <a
                    href="#"
                    class="btn btn-outline-secondary back-to-products-btn"
                  >
                    <i class="fas fa-arrow-left me-1"></i> Back to Products
                  </a>
                </div>

                <div
                  class="card"
                  style="max-height: calc(100vh - 200px); overflow-y: auto"
                >
                  <div class="card-body">
                    <form
                      id="editProductForm"
                      style="
                        display: flex;
                        flex-direction: column;
                        min-height: 100%;
                      "
                    >
                      <input type="hidden" id="editProductId" />
                      <div class="row mb-3">
                        <div class="col-md-6">
                          <label class="form-label">Product Name</label>
                          <input
                            type="text"
                            class="form-control"
                            id="editProductName"
                            required
                          />
                        </div>
                        <div class="col-md-6">
                          <label class="form-label">Brand</label>
                          <input
                            type="text"
                            class="form-control"
                            id="editProductBrand"
                            required
                          />
                        </div>
                      </div>

                      <div class="row mb-3">
                        <div class="col-md-4">
                          <label class="form-label">Gender</label>
                          <select
                            class="form-select"
                            id="editProductGender"
                            required
                          >
                            <option value="">Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                          </select>
                        </div>
                        <div class="col-md-4">
                          <label class="form-label">Price</label>
                          <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input
                              type="number"
                              class="form-control"
                              id="editProductPrice"
                              step="0.01"
                              required
                            />
                          </div>
                        </div>
                        <div class="col-md-4">
                          <label class="form-label">Stock Quantity</label>
                          <input
                            type="number"
                            class="form-control"
                            id="editProductStock"
                            required
                          />
                        </div>
                      </div>

                      <div class="row mb-3">
                        <div class="col-md-12">
                          <label class="form-label">Product Image</label>
                          <div class="input-group">
                            <input
                              type="file"
                              class="form-control"
                              id="editProductImageUpload"
                              accept="image/*"
                              style="display: none"
                            />
                            <button
                              type="button"
                              class="btn btn-outline-secondary"
                              id="editProductImageBtn"
                            >
                              <i class="fas fa-image me-1"></i> Change Image
                            </button>
                            <input type="hidden" id="editProductImage" />
                          </div>
                          <div id="editImagePreview" class="mt-2">
                            <img
                              id="editPreviewImage"
                              src="#"
                              alt="Preview"
                              class="img-thumbnail"
                              width="100"
                            />
                          </div>
                        </div>
                      </div>

                      <div class="mb-3">
                        <label class="form-label">Description</label>
                        <textarea
                          class="form-control"
                          id="editProductDescription"
                          rows="3"
                        ></textarea>
                      </div>

                      <div style="margin-top: auto; padding-top: 20px">
                        <div class="d-flex justify-content-end">
                          <a
                            href="#"
                            class="btn btn-outline-secondary me-2 back-to-products-btn"
                          >
                            Cancel
                          </a>
                          <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save me-1"></i> Update Product
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <!-- ENd Products-body-page -->
          </div>
        </div>
        <!--  End Desctop body Design -->
      </div>
    </div>

    <!--End Desctop Design -->

    <!-- Mobile Design -->
    <div class="dashboard-item-mobile">
      <nav class="navbar navbar-expand-lg dashboard-Mobile-style fixed-top">
        <div class="container-fluid">
          <div class="row w-100">
            <!-- Logo Img -->
            <div class="col-3">
              <a href="#" class="d-flex align-items-end">
                <img src="./img/logo.png" class="img-fluid" alt="" />
              </a>
            </div>
            <!-- search bar for mobile -->
            <div class="col-7 d-flex align-items-center justify-content-center">
              <form class="d-flex w-100" role="search">
                <input
                  class="form-control me-2"
                  type="search"
                  placeholder="Search"
                  aria-label="Search"
                />
                <button
                  class="btn btn-outline-secondary rounded-4"
                  type="submit"
                >
                  <i class="fa-solid fa-magnifying-glass"></i>
                </button>
              </form>
            </div>
            <!-- End search bar for mobile -->

            <!-- button for the drop down list -->
            <div class="col-2 d-flex align-items-center">
              <button
                class="col-1 border-0 navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown"
                aria-expanded="false"
                aria-label="Toggle navigation"
                style="outline: none; box-shadow: none"
              >
                <!-- bar icon -->
                <i class="fa-solid fa-bars fa-2x dashboard-icon-style me-2"></i>
              </button>
            </div>
            <!-- button for the drop down list -->

            <!-- dropdownlist Mobile -->
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a
                    class="nav-link dashboard-active border-bottom border-secondary my-1"
                    aria-current="page"
                    href="#"
                    ><i class="fa-solid fa-gear dashboard-icon-style me-1"></i>
                    Dashboard</a
                  >
                </li>

                <li class="nav-item">
                  <a
                    class="nav-link dashboard-active border-bottom border-secondary my-1"
                    href="#"
                  >
                    <i class="fa-solid fa-boxes-packing me-1"></i>
                    <span>Orders</span>
                  </a>
                </li>
                <li class="nav-item">
                  <a
                    class="nav-link dashboard-active border-bottom border-secondary my-1 collapsed"
                    data-bs-toggle="collapse"
                    href="#ui-basic"
                    aria-expanded="false"
                  >
                    <i class="fa-solid fa-tags me-1"></i>
                    <span class="menu-title">Products</span>
                  </a>
                </li>

                <li class="nav-item">
                  <a class="nav-link dashboard-active" href="#">
                    <i class="fa-solid fa-right-from-bracket"></i>
                    <span class="Logout">Logout</span>
                  </a>
                </li>
              </ul>
            </div>
            <!-- dropdownlist Mobile -->
          </div>
        </div>
      </nav>
      <!--   Mobile body Design -->
      <div class="mobile-layout w-100" style="padding-top: 70px">
        <div class="container Dashboard-contaner">
          <!-- body Header -->
          <div class="custom-margin h-50"></div>
          <div class="mt-5">
            <div class="mt-3 fw-bold">
              <h1 class="mt-5 fw-bold">Seller Dashboard</h1>
            </div>
          </div>

          <div class="dashboard-page">
            <!-- Mobile body four (2) content -->
            <div class="row d-flex justify-content-evenly">
              <!-- Total Sales -->
              <div
                class="col-4 mx-1 my-3 d-flex flex-column align-items-center justify-content-center bg-light rounded-4 Dashboard-class-hovor"
              >
                <p
                  class="fs-4 fw-bold mt-3 d-flex justify-content-center align-items-center"
                >
                  <span> num</span>
                  <i class="fa-solid fa-dollar-sign"></i>
                </p>
                <p>Total Sales</p>
              </div>
              <!-- Orders Today -->
              <div
                class="col-4 mx-1 my-3 d-flex flex-column align-items-center justify-content-center bg-light rounded-4 Dashboard-class-hovor"
              >
                <p
                  class="fs-4 fw-bold mt-3 d-flex justify-content-center align-items-center"
                >
                  <span> num</span>
                  <i class="fa-solid fa-cart-shopping"></i>
                </p>
                <p>Orders Today</p>
              </div>
              <!--Stock Value -->
              <div
                class="col-4 mx-1 my-3 d-flex flex-column align-items-center justify-content-center bg-light rounded-4 Dashboard-class-hovor"
              >
                <p
                  class="fs-4 fw-bold mt-3 d-flex justify-content-center align-items-center"
                >
                  <span id="mobile-Stock-Value"> num</span>
                  <i class="fa-solid fa-sack-dollar"></i>
                </p>
                <p class="mx-auto">Stock Value</p>
              </div>
              <!--Inventory Alerts  -->
              <div
                class="col-4 mx-1 my-3 d-flex flex-column align-items-center justify-content-center bg-light rounded-4 Dashboard-class-hovor"
              >
                <p
                  class="fs-4 fw-bold mt-3 d-flex justify-content-center align-items-center"
                >
                  <span id="mobile-Inventory-Alerts"> num</span>
                  <i class="fa-solid fa-circle-exclamation"></i>
                </p>
                <p>Inventory Alerts</p>
              </div>
            </div>
            <!-- End Mobile body four (2) content -->

            <!--  Mobile body two (1) content -->
            <div class="row d-flex justify-content-evenly my-5">
              <div class="col-10">
                <!-- stockByGender -->
                <div
                  class="row d-flex justify-content-between bg-light rounded-2"
                >
                  <h5 class="fw-bold">Stock By Gender</h5>
                  <div
                    id="mobile-donut-chart-container"
                    class="donut-chart-mobile"
                  ></div>
                </div>
                <!-- top-selling-products -->
                <div
                  class="row d-flex justify-content-between bg-light rounded-2 mt-4"
                >
                  <h5 class="fw-bold">Top Selling Products</h5>
                  <table class="table table-hover bg-light">
                    <tr>
                      <td></td>
                      <td>Product</td>
                      <td class="text-end">Quantity (units)</td>
                    </tr>
                    <tr>
                      <td><i class="fa-solid fa-basket-shopping"></i></td>
                      <td>Product-A</td>
                      <td class="text-end">350 units</td>
                    </tr>
                  </table>
                </div>
                <!-- Low Stock Products -->
                <div
                  class="row d-flex justify-content-between bg-light rounded-2 my-5"
                >
                  <h5 class="fw-bold">Low Stock Products</h5>
                  <table class="table table-hover bg-light">
                    <tr>
                      <td></td>
                      <td>Product</td>
                      <td class="text-end">
                        <i class="fa-solid fa-sort-down"></i>
                      </td>
                    </tr>
                    <tr>
                      <td><i class="fa-solid fa-arrow-trend-down"></i></td>
                      <td>Product-A</td>
                      <td class="text-end">3</td>
                    </tr>
                  </table>
                </div>
              </div>
              <div class="col-10">
                <!-- Recent Orders -->
                <div
                  class="row d-flex justify-content-between bg-light rounded-2"
                >
                  <h5 class="fw-bold">Recent Orders</h5>
                  <table class="table table-hover bg-light">
                    <tr>
                      <td>Order ID</td>
                      <td>Customer</td>
                      <td class="text-end">Total</td>
                    </tr>
                    <tr>
                      <td>#123</td>
                      <td>Altex Brown</td>
                      <td class="text-end">
                        <span>999</span> <i class="fa-solid fa-dollar-sign"></i>
                      </td>
                    </tr>
                  </table>
                </div>
                <!-- Low Stock -->
                <div
                  class="row d-flex justify-content-between bg-light rounded-2 my-5"
                >
                  <table class="table table-hover bg-light mt-1">
                    <tr>
                      <td>Low Stock</td>
                      <td class="text-end">Restock</td>
                    </tr>
                    <tr>
                      <td>Product X</td>
                      <td class="text-end">
                        <span>num</span> <i class="fa-solid fa-dollar-sign"></i>
                      </td>
                    </tr>
                  </table>
                </div>
                <!-- Restock -->
                <div
                  class="row d-flex justify-content-between bg-light rounded-2 my-5"
                >
                  <table class="table table-hover bg-light mt-1">
                    <tr>
                      <td>Low Stock</td>
                      <td class="text-end">Restock</td>
                    </tr>
                    <tr>
                      <td>Product X</td>
                      <td class="text-end">
                        <button class="btn btn-outline-secondary">
                          Restock
                        </button>
                      </td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>
            <!-- End  Mobile body two (1) content -->
          </div>
          <!-- orders-body-page -->
          <div class="orders-page">
            <div class="container">
              <!-- Search and Filter -->
              <div class="row mb-3">
                <div class="col-8 pe-1">
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    placeholder="Search orders..."
                  />
                </div>
                <div class="col-4 ps-1">
                  <button class="btn btn-outline-secondary btn-sm w-100">
                    <i class="fas fa-filter"></i> Filter
                  </button>
                </div>
              </div>

              <!-- Order Card 1 -->
              <div class="card mb-2 border-secondary">
                <div
                  class="card-header bg-light p-2 d-flex justify-content-between align-items-center"
                  data-bs-toggle="collapse"
                  href="#orderDetails1"
                >
                  <div>
                    <span class="fw-bold">#ORD12345</span>
                    <span class="badge text-bg-warning ms-1">Pending</span>
                    <span class="badge text-bg-success ms-1">PAID</span>
                  </div>
                  <i class="fas fa-chevron-down"></i>
                </div>
                <div class="collapse" id="orderDetails1">
                  <div class="card-body p-2">
                    <div class="row small">
                      <div class="col-6">
                        <div>
                          <span class="text-muted">Date:</span> 01-01-2023
                        </div>
                        <div>
                          <span class="text-muted">Customer:</span> Ahmed
                        </div>
                      </div>
                      <div class="col-6 text-end">
                        <div>
                          <span class="text-muted">Total:</span> 199
                          <i class="fa-solid fa-dollar-sign"></i>
                        </div>
                      </div>
                    </div>
                    <div class="d-flex justify-content-end mt-2">
                      <button
                        class="btn btn-sm btn-outline-primary me-1 py-0 px-2"
                      >
                        <i class="fas fa-eye"></i>
                      </button>
                      <button
                        class="btn btn-sm btn-outline-secondary py-0 px-2"
                      >
                        <i class="fas fa-print"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Order Card 2 -->
              <div class="card mb-2 border-secondary">
                <div
                  class="card-header bg-light p-2 d-flex justify-content-between align-items-center"
                  data-bs-toggle="collapse"
                  href="#orderDetails2"
                >
                  <div>
                    <span class="fw-bold">#ORD12346</span>
                    <span class="badge text-bg-success ms-1">Completed</span>
                    <span class="badge text-bg-success ms-1">PAID</span>
                  </div>
                  <i class="fas fa-chevron-down"></i>
                </div>
                <div class="collapse" id="orderDetails2">
                  <div class="card-body p-2">
                    <div class="row small">
                      <div class="col-6">
                        <div>
                          <span class="text-muted">Date:</span> 02-01-2023
                        </div>
                        <div>
                          <span class="text-muted">Customer:</span> Mohamed
                        </div>
                      </div>
                      <div class="col-6 text-end">
                        <div>
                          <span class="text-muted">Total:</span> 250
                          <i class="fa-solid fa-dollar-sign"></i>
                        </div>
                      </div>
                    </div>
                    <div class="d-flex justify-content-end mt-2">
                      <button
                        class="btn btn-sm btn-outline-primary me-1 py-0 px-2"
                      >
                        <i class="fas fa-eye"></i>
                      </button>
                      <button
                        class="btn btn-sm btn-outline-secondary py-0 px-2"
                      >
                        <i class="fas fa-print"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Order Card 3 -->
              <div class="card mb-2 border-secondary">
                <div
                  class="card-header bg-light p-2 d-flex justify-content-between align-items-center"
                  data-bs-toggle="collapse"
                  href="#orderDetails3"
                >
                  <div>
                    <span class="fw-bold">#ORD12347</span>
                    <span class="badge text-bg-danger ms-1">Cancelled</span>
                    <span class="badge text-bg-secondary ms-1">REFUNDED</span>
                  </div>
                  <i class="fas fa-chevron-down"></i>
                </div>
                <div class="collapse" id="orderDetails3">
                  <div class="card-body p-2">
                    <div class="row small">
                      <div class="col-6">
                        <div>
                          <span class="text-muted">Date:</span> 03-01-2023
                        </div>
                        <div><span class="text-muted">Customer:</span> Ali</div>
                      </div>
                      <div class="col-6 text-end">
                        <div>
                          <span class="text-muted">Total:</span> 175
                          <i class="fa-solid fa-dollar-sign"></i>
                        </div>
                      </div>
                    </div>
                    <div class="d-flex justify-content-end mt-2">
                      <button
                        class="btn btn-sm btn-outline-primary me-1 py-0 px-2"
                      >
                        <i class="fas fa-eye"></i>
                      </button>
                      <button
                        class="btn btn-sm btn-outline-secondary py-0 px-2"
                      >
                        <i class="fas fa-print"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Pagination -->
              <nav class="mt-3">
                <ul class="pagination pagination-sm justify-content-center">
                  <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1">&laquo;</a>
                  </li>
                  <li class="page-item active">
                    <a class="page-link" href="#">1</a>
                  </li>
                  <li class="page-item"><a class="page-link" href="#">2</a></li>
                  <li class="page-item"><a class="page-link" href="#">3</a></li>
                  <li class="page-item">
                    <a class="page-link" href="#">&raquo;</a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
          <!-- ENd orders-body-page -->

          <!-- Products-body-page -->
          <div class="Products-page">
            <!-- Products List View -->
            <div class="products-list-view">
              <div
                class="d-flex justify-content-between align-items-center mb-3"
              >
                <h2>Products</h2>
                <a
                  href="#"
                  class="btn btn-outline-primary btn-sm"
                  id="addNewProductBtnMobile"
                >
                  <i class="fas fa-plus me-1"></i> Add
                </a>
              </div>

              <div class="list-group" id="mobileProductsList">
                <!-- Products will be loaded here -->
              </div>
              <nav aria-label="Product pagination">
                <ul
                  class="pagination pagination-sm justify-content-center mt-3"
                  id="mobilePagination"
                ></ul>
              </nav>
            </div>

            <!-- Add Product Form -->
            <div class="add-product-view d-none">
              <div
                class="d-flex justify-content-between align-items-center mb-3"
              >
                <h2>Add New Product</h2>
                <a
                  href="#"
                  class="btn btn-outline-secondary btn-sm back-to-products-btn-mobile"
                >
                  <i class="fas fa-arrow-left me-1"></i> Back
                </a>
              </div>

              <div class="card">
                <div class="card-body">
                  <form id="addProductFormMobile">
                    <div class="mb-3">
                      <label class="form-label">Product Name</label>
                      <input
                        type="text"
                        class="form-control form-control-sm"
                        id="productNameMobile"
                        required
                      />
                    </div>

                    <div class="mb-3">
                      <label class="form-label">Brand</label>
                      <input
                        type="text"
                        class="form-control form-control-sm"
                        id="productBrandMobile"
                        required
                      />
                    </div>

                    <div class="mb-3">
                      <label class="form-label">Gender</label>
                      <select
                        class="form-select form-select-sm"
                        id="productGenderMobile"
                        required
                      >
                        <option value="">Select Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                      </select>
                    </div>

                    <div class="mb-3">
                      <label class="form-label">Price</label>
                      <div class="input-group input-group-sm">
                        <span class="input-group-text">$</span>
                        <input
                          type="number"
                          class="form-control"
                          id="productPriceMobile"
                          step="0.01"
                          required
                        />
                      </div>
                    </div>

                    <div class="mb-3">
                      <label class="form-label">Stock Quantity</label>
                      <input
                        type="number"
                        class="form-control form-control-sm"
                        id="productStockMobile"
                        required
                      />
                    </div>

                    <div class="mb-3">
                      <label class="form-label">Product Image</label>
                      <div class="input-group input-group-sm">
                        <input
                          type="file"
                          class="form-control"
                          id="productImageUploadMobile"
                          accept="image/*"
                          style="display: none"
                        />
                        <button
                          type="button"
                          class="btn btn-outline-secondary"
                          id="productImageBtnMobile"
                        >
                          <i class="fas fa-image me-1"></i> Choose Image
                        </button>
                        <input type="hidden" id="productImageMobile" />
                      </div>
                      <div
                        id="imagePreviewMobile"
                        class="mt-2"
                        style="display: none"
                      >
                        <img
                          id="previewImageMobile"
                          src="#"
                          alt="Preview"
                          class="img-thumbnail"
                          width="80"
                        />
                      </div>
                    </div>

                    <div class="mb-3">
                      <label class="form-label">Description</label>
                      <textarea
                        class="form-control form-control-sm"
                        id="productDescriptionMobile"
                        rows="3"
                      ></textarea>
                    </div>

                    <div class="d-flex justify-content-end">
                      <a
                        href="#"
                        class="btn btn-outline-secondary btn-sm me-2 back-to-products-btn-mobile"
                      >
                        Cancel
                      </a>
                      <button type="submit" class="btn btn-primary btn-sm">
                        <i class="fas fa-save me-1"></i> Save
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>

            <!-- Edit Product Form -->
            <div class="edit-product-view d-none">
              <div
                class="d-flex justify-content-between align-items-center mb-3"
              >
                <h2>Edit Product</h2>
                <a
                  href="#"
                  class="btn btn-outline-secondary btn-sm back-to-products-btn-mobile"
                >
                  <i class="fas fa-arrow-left me-1"></i> Back
                </a>
              </div>

              <div class="card">
                <div class="card-body">
                  <form id="editProductFormMobile">
                    <input type="hidden" id="editProductIdMobile" />
                    <div class="mb-3">
                      <label class="form-label">Product Name</label>
                      <input
                        type="text"
                        class="form-control form-control-sm"
                        id="editProductNameMobile"
                        required
                      />
                    </div>

                    <div class="mb-3">
                      <label class="form-label">Brand</label>
                      <input
                        type="text"
                        class="form-control form-control-sm"
                        id="editProductBrandMobile"
                        required
                      />
                    </div>

                    <div class="mb-3">
                      <label class="form-label">Gender</label>
                      <select
                        class="form-select form-select-sm"
                        id="editProductGenderMobile"
                        required
                      >
                        <option value="">Select Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                      </select>
                    </div>

                    <div class="mb-3">
                      <label class="form-label">Price</label>
                      <div class="input-group input-group-sm">
                        <span class="input-group-text">$</span>
                        <input
                          type="number"
                          class="form-control"
                          id="editProductPriceMobile"
                          step="0.01"
                          required
                        />
                      </div>
                    </div>

                    <div class="mb-3">
                      <label class="form-label">Stock Quantity</label>
                      <input
                        type="number"
                        class="form-control form-control-sm"
                        id="editProductStockMobile"
                        required
                      />
                    </div>

                    <div class="mb-3">
                      <label class="form-label">Product Image</label>
                      <div class="input-group input-group-sm">
                        <input
                          type="file"
                          class="form-control"
                          id="editProductImageUploadMobile"
                          accept="image/*"
                          style="display: none"
                        />
                        <button
                          type="button"
                          class="btn btn-outline-secondary"
                          id="editProductImageBtnMobile"
                        >
                          <i class="fas fa-image me-1"></i> Change Image
                        </button>
                        <input type="hidden" id="editProductImageMobile" />
                      </div>
                      <div id="editImagePreviewMobile" class="mt-2">
                        <img
                          id="editPreviewImageMobile"
                          src="#"
                          alt="Preview"
                          class="img-thumbnail"
                          width="80"
                        />
                      </div>
                    </div>

                    <div class="mb-3">
                      <label class="form-label">Description</label>
                      <textarea
                        class="form-control form-control-sm"
                        id="editProductDescriptionMobile"
                        rows="3"
                      ></textarea>
                    </div>

                    <div class="d-flex justify-content-end">
                      <a
                        href="#"
                        class="btn btn-outline-secondary btn-sm me-2 back-to-products-btn-mobile"
                      >
                        Cancel
                      </a>
                      <button type="submit" class="btn btn-primary btn-sm">
                        <i class="fas fa-save me-1"></i> Update
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>

          <!-- ENd Products-body-page -->
        </div>
      </div>
      <!--  End Mobile body Design -->
    </div>
    <!-- End Mobile Design -->
  </body>
</html>
